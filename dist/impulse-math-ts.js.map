{"version":3,"file":"impulse-math-ts.js","mappings":"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","sources":["webpack://impulse-math-ts/webpack/bootstrap","webpack://impulse-math-ts/webpack/runtime/define property getters","webpack://impulse-math-ts/webpack/runtime/hasOwnProperty shorthand","webpack://impulse-math-ts/webpack/runtime/make namespace object","webpack://impulse-math-ts/./src/typescript/Computation/AbstractComputation.ts","webpack://impulse-math-ts/./src/typescript/Computation/MultiCore/dot.ts","webpack://impulse-math-ts/./src/typescript/Computation/ComputationMultiCore.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/dot.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/transpose.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/reluBackpropagation.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/add.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/subtract.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/multiply.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/divide.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/minusOne.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/log.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/pow.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/exp.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/sqrt.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/subtractNumberFrom.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/setMin.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/setMax.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/setOnes.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/setZeros.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/setRandom.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/fraction.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/max.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/abs.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/mean.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/sum.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/rowwiseSum.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/colwiseSum.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/replicate.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/colMaxCoeffIndex.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/rowMaxCoeffIndex.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/row.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/col.ts","webpack://impulse-math-ts/./src/typescript/Computation/CPU/rollToColMatrix.ts","webpack://impulse-math-ts/./src/typescript/Computation/ComputationCPU.ts","webpack://impulse-math-ts/./src/typescript/Computation/utils.ts","webpack://impulse-math-ts/./src/typescript/Math/Matrix.ts","webpack://impulse-math-ts/./src/typescript/Math/math.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Matrix } from \"../Math/Matrix\";\n\ninterface KernelsInterface {\n  [id: string]: (m: Matrix, m2: Matrix | number | void) => Matrix | number;\n}\n\nexport class AbstractComputation {\n  protected kernels: KernelsInterface = {};\n\n  addKernel(name: string, func: (m: Matrix, m2: Matrix | number) => Matrix | number): AbstractComputation {\n    this.kernels[name] = func;\n    return this;\n  }\n\n  execute(name: string, ...args: [Matrix, Matrix] | [Matrix, number] | [Matrix, number, number] | [Matrix]): Matrix | number {\n    if (!this.kernels[name]) {\n      throw new Error(`Kernel '${name}' not exists.`);\n    }\n    return this.kernels[name].apply(null, args);\n  }\n}\n","//import { MatrixMultiply } from \"../../../../build/Debug/computation.node\";\nimport { Matrix } from \"../../Math/Matrix\";\n\nexport const dot = (m1: Matrix, m2: Matrix) => {\n  //console.log(MatrixMultiply([1, 2, 3, 4], [4, 3, 2, 1]));\n};\n","import { AbstractComputation } from \"./AbstractComputation\";\nimport { Matrix } from \"../Math/Matrix\";\nimport { dot } from \"./MultiCore/dot\";\n\nexport class ComputationMultiCore extends AbstractComputation {\n  constructor() {\n    super();\n\n    this.addKernel(\"dot\", dot);\n\n    /*this.addKernel(\"multiply\", dot);\n    this.addKernel(\"add\", add);\n    this.addKernel(\"subtract\", subtract);\n    this.addKernel(\"fillRandom\", fillRandom);\n    this.addKernel(\"fillZeros\", fillZeros);\n    this.addKernel(\"elementWiseMultiply\", elementWiseMultiply);\n    this.addKernel(\"multiplyNumber\", multiplyNumber);\n    this.addKernel(\"elementWiseDivide\", elementWiseDivide);\n    this.addKernel(\"divideNumber\", divideNumber);\n    this.addKernel(\"softmaxActivation\", softmaxActivation);\n    this.addKernel(\"softmaxLoss\", softmaxLoss);\n    this.addKernel(\"logisticActivation\", logisticActivation);\n    this.addKernel(\"logisticLoss\", logisticLoss);\n    this.addKernel(\"tanhActivation\", tanhActivation);\n    this.addKernel(\"reluActivation\", reluActivation);\n    this.addKernel(\"softplusActivation\", softplusActivation);\n    this.addKernel(\"penalty\", penalty);\n    this.addKernel(\"sqrt\", sqrt);\n    this.addKernel(\"purelinLoss\", purelinLoss);\n    this.addKernel(\"transpose\", transpose);*/\n  }\n}\n","import { Matrix } from \"../../Math/Matrix\";\n\nexport const dot = (m1: Matrix, m2: Matrix): Matrix => {\n  if (m1.cols !== m2.rows) {\n    throw new Error(`DIMENSIONS error. m1.cols ${m1.rows} ${m1.cols} !== m2.rows ${m2.rows} ${m2.cols}.`);\n  }\n  const data = [];\n  for (let row = 0; row < m1.rows; ++row) {\n    data[row] = new Array(m2.cols);\n    for (let col = 0; col < m2.cols; ++col) {\n      data[row][col] = 0;\n      for (let i = 0; i < m1.cols; ++i) {\n        if (m1.data && m2.data) {\n          data[row][col] += m1.data[row][i] * m2.data[i][col];\n        }\n      }\n    }\n  }\n  return new Matrix(m1.rows, m2.cols, data);\n};\n","import {Matrix} from \"../../Math/Matrix\";\n\nexport const transpose = (m1: Matrix): Matrix => {\n    const data = [];\n    for (let col = 0; col < m1.cols; ++col) {\n        data[col] = new Array(m1.rows);\n        for (let row = 0; row < m1.rows; ++row) {\n            data[col][row] = m1.data[row][col];\n        }\n    }\n    return new Matrix(m1.cols, m1.rows, data);\n};\n","import { Matrix } from \"../../Math/Matrix\";\n\nexport const reluBackpropagation = (delta: Matrix, A: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < A.rows; row += 1) {\n    data[row] = new Array(A.cols);\n    for (let col = 0; col < A.cols; col += 1) {\n      data[row][col] = A.data[row][col] > 0 ? 1 : 0;\n    }\n  }\n  return new Matrix(A.rows, A.cols, data);\n};\n","import { Matrix } from \"../../Math/Matrix\";\n\nexport const add = (m1: Matrix, m: Matrix | number): Matrix => {\n  if (typeof m === \"number\") {\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] + m;\n      }\n    }\n    return Matrix.from(data);\n  } else if (m instanceof Matrix) {\n    if (m.rows !== m1.rows || m.cols !== m1.cols) {\n      throw new Error(`Dimention error: rows (x: ${m1.rows}, y: ${m1.cols}) !== (x: ${m.rows}, y: ${m.cols})`);\n    }\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] + m.data[row][col];\n      }\n    }\n    return Matrix.from(data);\n  }\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const subtract = (m1: Matrix, m: Matrix | number): Matrix => {\n  if (typeof m === \"number\") {\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] - m;\n      }\n    }\n    return Matrix.from(data);\n  } else {\n    if (m1.rows !== m.rows || m1.cols !== m.cols) {\n      throw new Error(`Dimensions error: ${m1.rows}, ${m1.cols} !== ${m.rows}, ${m.cols}`);\n    }\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] - m.data[row][col];\n      }\n    }\n    return Matrix.from(data);\n  }\n};\n","import { Matrix } from \"../../Math/Matrix\";\n\nexport const multiply = (m1: Matrix, num: Matrix | number): Matrix => {\n  if (typeof num === \"number\") {\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] * num;\n      }\n    }\n    return Matrix.from(data);\n  } else {\n    if (num.rows !== m1.rows || m1.cols !== num.cols) {\n      throw new Error(`Dimension error: ${m1.shape()} !== ${num.shape()}`);\n    }\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] * num.data[row][col];\n      }\n    }\n    return Matrix.from(data);\n  }\n};\n","import { Matrix } from \"../../Math/Matrix\";\n\nexport const divide = (m1: Matrix, num: Matrix | number): Matrix => {\n  if (typeof num === \"number\") {\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] / num;\n      }\n    }\n    return Matrix.from(data);\n  } else {\n    if (num.rows !== m1.rows || num.cols !== m1.cols) {\n      throw new Error(`Dimensions error (${m1.rows}, ${m1.cols}) !== (${num.rows}, ${num.cols})`);\n    }\n    const data = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        data[row][col] = m1.data[row][col] / num.data[row][col];\n      }\n    }\n    return Matrix.from(data);\n  }\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const minusOne = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = 1 - m1.data[row][col];\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const log = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.log(m1.data[row][col] + 1e-8);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const pow = (m1: Matrix, num: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.pow(m1.data[row][col], num);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const exp = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.exp(m1.data[row][col] + 1e-8);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const sqrt = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.sqrt(m1.data[row][col] + 1e-8);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const subtractNumberFrom = (m1: Matrix, num: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = num - m1.data[row][col];\n    }\n  }\n  return Matrix.from(data);\n};\n","import { Matrix } from \"../../Math/Matrix\";\n\nexport const setMin = (m1: Matrix, min: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.max(m1.data[row][col], min);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const setMax = (m1: Matrix, max: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.min(m1.data[row][col], max);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const setOnes = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = 1;\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const setZeros = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = 0;\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const setRandom = (m1: Matrix, parameter: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = (Math.random() * 4 - 2) * Math.sqrt(2 / parameter); // todo: gaussian distribution;\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const fraction = (m1: Matrix, num: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = num / m1.data[row][col];\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const max = (m1: Matrix): number => {\n  let max = -Infinity;\n  for (let row = 0; row < m1.rows; row += 1) {\n    for (let col = 0; col < m1.cols; col += 1) {\n      max = Math.max(m1.data[row][col], max);\n    }\n  }\n  return max;\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const abs = (m1: Matrix): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [];\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[row][col] = Math.abs(m1.data[row][col]);\n    }\n  }\n  return Matrix.from(data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const mean = (m1: Matrix): number => {\n  let sum = 0;\n  const numberOfElements = m1.rows * m1.cols;\n\n  for (let row = 0; row < m1.rows; row += 1) {\n    for (let col = 0; col < m1.cols; col += 1) {\n      sum += m1.data[row][col];\n    }\n  }\n\n  return sum / numberOfElements;\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const sum = (m1: Matrix): number => {\n  let sum = 0.0;\n  for (let row = 0; row < m1.rows; row += 1) {\n    for (let col = 0; col < m1.cols; col += 1) {\n      sum += m1.data[row][col];\n    }\n  }\n  return sum;\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const rowwiseSum = (m1: Matrix): Matrix => {\n  const data = [[]];\n  for (let row = 0; row < m1.rows; row += 1) {\n    let sum = 0.0;\n    for (let col = 0; col < m1.cols; col += 1) {\n      sum += m1.data[row][col];\n    }\n    data[0].push(sum);\n  }\n  return new Matrix(1, m1.rows, data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const colwiseSum = (m1: Matrix): Matrix => {\n  const data = [];\n  const t = m1.transpose();\n  for (let row = 0; row < t.rows; row += 1) {\n    data[row] = [0];\n    for (let col = 0; col < t.cols; col += 1) {\n      data[row][0] += t.data[row][col];\n    }\n  }\n  return new Matrix(m1.cols, 1, data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const replicate = (m1: Matrix, rows: number, cols: number): Matrix => {\n  if (rows === 1 && m1.cols === 1 && cols > 1) {\n    const newData = [];\n    for (let row = 0; row < m1.rows; row += 1) {\n      newData[row] = [];\n      for (let col = 0; col < cols; col += 1) {\n        newData[row][col] = m1.data[row][0];\n      }\n    }\n    return Matrix.from(newData);\n  } else if (cols === 1 && m1.rows === 1 && rows > 1) {\n    const newData = [];\n    for (let row = 0; row < rows; row += 1) {\n      newData[row] = [];\n      for (let col = 0; col < m1.cols; col += 1) {\n        newData[row][col] = m1.data[0][col];\n      }\n    }\n    return Matrix.from(newData);\n  }\n  return m1;\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const colMaxCoeffIndex = (m1: Matrix, col: number): number => {\n  let maxIndex = -1;\n  let max = -Infinity;\n\n  for (let row = 0; row < m1.rows; row += 1) {\n    if (m1.data && m1.data[row][col] > max) {\n      max = m1.data[row][col];\n      maxIndex = row;\n    }\n  }\n\n  return maxIndex;\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const rowMaxCoeffIndex = (m1: Matrix, row: number): number => {\n  let maxIndex = -1;\n  let max = -Infinity;\n\n  for (let col = 0; col < m1.cols; col += 1) {\n    if (m1.data[row][col] > max) {\n      max = m1.data[row][col];\n      maxIndex = col;\n    }\n  }\n\n  return maxIndex;\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const row = (m1: Matrix, row: number): Matrix => {\n  const data = [];\n  for (let col = 0; col < m1.cols; col += 1) {\n    data[col] = [m1.data[row][col]];\n  }\n  return new Matrix(m1.cols, 1, data);\n}","import { Matrix } from \"../../Math/Matrix\";\n\nexport const col = (m1: Matrix, col: number): Matrix => {\n  const data = [];\n  for (let row = 0; row < m1.rows; row += 1) {\n    data[row] = [m1.data[row][col]];\n  }\n  return new Matrix(m1.rows, 1, data);\n};","import { Matrix } from \"../../Math/Matrix\";\n\nexport const rollToColMatrix = (m1: Matrix): Matrix => {\n  const data = [];\n  let _row = 0;\n  for (let row = 0; row < m1.rows; row += 1) {\n    for (let col = 0; col < m1.cols; col += 1) {\n      data[_row] = [];\n      data[_row++][0] = m1.data[row][col];\n    }\n  }\n  return Matrix.from(data);\n};","import { AbstractComputation } from \"./AbstractComputation\";\nimport { dot } from \"./CPU/dot\";\nimport { transpose } from \"./CPU/transpose\";\nimport { reluBackpropagation } from \"./CPU/reluBackpropagation\";\nimport { add } from './CPU/add'\nimport { subtract } from \"./CPU/subtract\";\nimport { multiply } from \"./CPU/multiply\";\nimport { divide } from \"./CPU/divide\";\nimport { minusOne } from \"./CPU/minusOne\";\nimport { log } from \"./CPU/log\";\nimport { pow } from \"./CPU/pow\";\nimport { exp } from \"./CPU/exp\";\nimport { sqrt } from \"./CPU/sqrt\";\nimport { subtractNumberFrom } from \"./CPU/subtractNumberFrom\";\nimport { setMin } from \"./CPU/setMin\";\nimport { setMax } from \"./CPU/setMax\";\nimport { setOnes } from \"./CPU/setOnes\";\nimport { setZeros } from \"./CPU/setZeros\";\nimport { setRandom } from \"./CPU/setRandom\";\nimport { fraction } from \"./CPU/fraction\";\nimport { max } from \"./CPU/max\";\nimport { abs } from \"./CPU/abs\";\nimport { mean } from \"./CPU/mean\";\nimport { sum } from \"./CPU/sum\";\nimport { rowwiseSum } from \"./CPU/rowwiseSum\";\nimport { colwiseSum } from \"./CPU/colwiseSum\";\nimport { replicate } from \"./CPU/replicate\";\nimport { colMaxCoeffIndex } from \"./CPU/colMaxCoeffIndex\";\nimport { rowMaxCoeffIndex } from \"./CPU/rowMaxCoeffIndex\";\nimport { row } from \"./CPU/row\";\nimport { col } from \"./CPU/col\";\nimport { rollToColMatrix } from \"./CPU/rollToColMatrix\";\n\nexport class ComputationCPU extends AbstractComputation {\n  constructor() {\n    super();\n\n    this.addKernel(\"dot\", dot);\n    this.addKernel(\"transpose\", transpose);\n    this.addKernel(\"reluBackpropagation\", reluBackpropagation);\n    this.addKernel(\"add\", add);\n    this.addKernel(\"subtract\", subtract);\n    this.addKernel(\"multiply\", multiply);\n    this.addKernel(\"divide\", divide);\n    this.addKernel(\"minusOne\", minusOne);\n    this.addKernel(\"subtractNumberFrom\", subtractNumberFrom);\n    this.addKernel(\"log\", log);\n    this.addKernel(\"exp\", exp);\n    this.addKernel(\"pow\", pow);\n    this.addKernel(\"sqrt\", sqrt);\n    this.addKernel(\"setMin\", setMin);\n    this.addKernel(\"setMax\", setMax);\n    this.addKernel(\"setOnes\", setOnes);\n    this.addKernel(\"setZeros\", setZeros);\n    this.addKernel(\"setRandom\", setRandom);\n    this.addKernel(\"fraction\", fraction);\n    this.addKernel(\"max\", max);\n    this.addKernel(\"abs\", abs);\n    this.addKernel(\"mean\", mean);\n    this.addKernel(\"sum\", sum);\n    this.addKernel(\"rowwiseSum\", rowwiseSum);\n    this.addKernel(\"colwiseSum\", colwiseSum);\n    this.addKernel(\"replicate\", replicate);\n    this.addKernel(\"colMaxCoeffIndex\", colMaxCoeffIndex);\n    this.addKernel(\"rowMaxCoeffIndex\", rowMaxCoeffIndex);\n    this.addKernel(\"row\", row);\n    this.addKernel(\"col\", col);\n    this.addKernel(\"rollToColMatrix\", rollToColMatrix);\n    /*\n    this.addKernel(\"subtractFromNumber\", subtractFromNumber);\n    this.addKernel(\"fillRandom\", fillRandom);\n    this.addKernel(\"fillZeros\", fillZeros);\n    this.addKernel(\"elementWiseMultiply\", elementWiseMultiply);\n    this.addKernel(\"elementWiseDivide\", elementWiseDivide);\n    this.addKernel(\"divideNumber\", divideNumber);\n    this.addKernel(\"logisticActivation\", logisticActivation);\n    this.addKernel(\"logisticLoss\", logisticLoss);\n    this.addKernel(\"logisticBackpropagation\", logisticBackpropagation);\n    this.addKernel(\"tanhActivation\", tanhActivation);\n    this.addKernel(\"reluActivation\", reluActivation);\n    this.addKernel(\"softplusActivation\", softplusActivation);\n    this.addKernel(\"penalty\", penalty);\n    this.addKernel(\"sqrt\", sqrt);\n    this.addKernel(\"transpose\", transpose);\n    this.addKernel(\"pow\", pow);\n    this.addKernel(\"log\", log);\n    this.addKernel(\"logMinusOne\", logMinusOne);\n    this.addKernel(\"addNumber\", addNumber);*/\n  }\n}\n","import { AbstractComputation } from \"./AbstractComputation\";\nimport { ComputationMultiCore } from \"./ComputationMultiCore\";\nimport { ComputationCPU } from \"./ComputationCPU\";\n\nlet currentComputation: AbstractComputation = new ComputationCPU();\n\nexport const setComputation = (type: AbstractComputation): void => {\n  currentComputation = type;\n};\n\nexport const getComputation = (): AbstractComputation => {\n  return currentComputation;\n};\n","import { getComputation } from \"../Computation\";\nimport { minusOne } from \"../Computation/CPU/minusOne\";\n\nexport class Matrix {\n  public rows = 0;\n  public cols = 0;\n  public data: number[][] | null = null;\n\n  constructor(rows = 0, cols = 0, data: number[][] | string[][] | null = null) {\n    this.resize(rows, cols);\n    if (data) {\n      this.generateData(data);\n    }\n  }\n\n  resize(rows: number, cols: number): Matrix {\n    this.rows = rows;\n    this.cols = cols;\n    this.data = new Array(this.rows);\n    for (let row = 0; row < this.rows; row += 1) {\n      this.data[row] = new Array(this.cols);\n    }\n\n    return this;\n  }\n\n  generateData(arr: number[][] | string[][] | null): Matrix {\n    const data = [];\n    for (let row = 0; row < this.rows; row += 1) {\n      data[row] = new Array(this.cols);\n    }\n    for (let col = 0; col < this.cols; col += 1) {\n      for (let row = 0; row < this.rows; row += 1) {\n        if (typeof arr[row] === \"number\") {\n          data[row][col] = arr[row];\n        } else {\n          if (typeof arr[row][col] === \"string\") {\n            if (/^[0-9.]+$/.test(String(arr[row][col]))) {\n              data[row][col] = Number(arr[row][col]);\n            } else {\n              data[row][col] = arr[row][col];\n            }\n          } else {\n            data[row][col] = arr[row][col];\n          }\n        }\n      }\n    }\n    this.data = data;\n    return this;\n  }\n\n  sum(): number {\n    return getComputation().execute(\"sum\", this) as number;\n  }\n\n  colwiseSum(): Matrix {\n    return getComputation().execute(\"colwiseSum\", this) as Matrix;\n  }\n\n  rowwiseSum(): Matrix {\n    return getComputation().execute(\"rowwiseSum\", this) as Matrix;\n  }\n\n  flatten(): number[] {\n    const data = [];\n    for (let row = 0; row < this.rows; row += 1) {\n      for (let col = 0; col < this.cols; col += 1) {\n        data.push(this.data[row][col]);\n      }\n    }\n    return data;\n  }\n\n  replicate(rows: number, cols: number): Matrix {\n    return getComputation().execute(\"replicate\", this, rows, cols) as Matrix;\n  }\n\n  transpose(): Matrix {\n    return getComputation().execute(\"transpose\", this) as Matrix;\n  }\n\n  colMaxCoeffIndex(col: number): number {\n    return getComputation().execute(\"colMaxCoeffIndex\", this, col) as number;\n  }\n\n  rowMaxCoeffIndex(row: number): number {\n    return getComputation().execute(\"rowMaxCoeffIndex\", this, row) as number;\n  }/*\n\n  block(startRow: number, startCol: number, blockRows: number, blockCols: number): Matrix {\n    const data = [];\n\n    for (let row = startRow, newRow = 0; row < this.rows && row < startRow + blockRows; row += 1, newRow += 1) {\n      data[newRow] = new Array(blockCols);\n      for (let col = startCol, newCol = 0; col < this.cols && col < startCol + blockCols; col += 1, newCol += 1) {\n        data[newRow][newCol] = this.data[row][col];\n      }\n    }\n\n    return new Matrix(blockRows, blockCols, data);\n  }*/\n\n  col(col: number): Matrix {\n    return getComputation().execute(\"col\", this, col) as Matrix;\n  }\n\n  row(row: number): Matrix {\n    return getComputation().execute(\"row\", this, row) as Matrix;\n  }\n  sigmoid() {\n    return this.multiply(-1).exp().add(1).fraction(1);\n  }\n\n  rollToColMatrix(): Matrix {\n    return getComputation().execute(\"rollToColMatrix\", this) as Matrix;\n  }\n\n  abs(): Matrix {\n    return getComputation().execute(\"abs\", this) as Matrix;\n  }\n\n  mean() {\n    return getComputation().execute(\"mean\", this) as number;\n  }\n\n  max(): number {\n    return getComputation().execute(\"max\", this) as number;\n  }\n\n  setMax(max: number): Matrix {\n    return getComputation().execute(\"setMax\", this, max) as Matrix;\n  }\n\n  setMin(min: number): Matrix {\n    return getComputation().execute(\"setMin\", this, min) as Matrix;\n  }\n\n  setZeros(): Matrix {\n    return getComputation().execute(\"setZeros\", this) as Matrix;\n  }\n\n  setOnes(): Matrix {\n    return getComputation().execute(\"setOnes\", this) as Matrix;\n  }\n\n  setRandom(parameter = 1): Matrix {\n    // todo: gaussian distribution\n    return getComputation().execute(\"setRandom\", this, parameter) as Matrix;\n  }\n\n  fraction(num = 1): Matrix {\n    return getComputation().execute(\"fraction\", this, num) as Matrix;\n  }\n\n  sqrt(): Matrix {\n    return getComputation().execute(\"sqrt\", this) as Matrix;\n  }\n\n  dot(m: Matrix): Matrix {\n    return getComputation().execute(\"dot\", this, m) as Matrix;\n  }\n\n  multiply(num: number | Matrix): Matrix {\n    return getComputation().execute(\"multiply\", this, num) as Matrix;\n  }\n\n  subtract(m: Matrix | number): Matrix {\n    return getComputation().execute(\"subtract\", this, m) as Matrix;\n  }\n\n  forEach(cb: (num: number) => number): Matrix {\n    const data = [];\n    for (let row = 0; row < this.rows; row += 1) {\n      data[row] = [];\n      for (let col = 0; col < this.cols; col += 1) {\n        data[row][col] = cb(this.data[row][col]);\n      }\n    }\n    return Matrix.from(data);\n  }\n\n  shape(): number[] {\n    return [this.rows, this.cols];\n  }\n\n  divide(num: number | Matrix): Matrix {\n    return getComputation().execute(\"divide\", this, num) as Matrix;\n  }\n\n  minusOne(): Matrix {\n    return getComputation().execute(\"subtractNumberFrom\", this, -1) as Matrix;\n  }\n\n  subtractNumberFrom(num: number): Matrix {\n    return getComputation().execute(\"subtractNumberFrom\", this, num) as Matrix;\n  }\n\n  add(m: Matrix | number): Matrix {\n    return getComputation().execute(\"add\", this, m) as Matrix;\n  }\n\n  log(): Matrix {\n    return getComputation().execute(\"log\", this) as Matrix;\n  }\n\n  tanh(): Matrix {\n    return this.exp()\n      .subtract(this.multiply(-1).exp())\n      .divide(this.exp().add(this.multiply(-1).exp()));\n  }\n\n  softmax(): Matrix {\n    const max = this.max() - 1e-8;\n    return this.subtract(max).exp().divide(this.rowwiseSum().replicate(this.cols, 1).transpose());\n  }\n\n  exp(): Matrix {\n    return getComputation().execute(\"exp\", this) as Matrix;\n  }\n\n  pow(num: number): Matrix {\n    return getComputation().execute(\"pow\", this, num) as Matrix;\n  }\n\n  value(row, col, value = undefined) {\n    if (value === undefined) {\n      return this.data[row][col];\n    }\n    this.data[row][col] = value;\n    return this;\n  }\n\n  copy() {\n    return Matrix.from(this.data);\n  }\n\n  static from(arr: number[][]): Matrix {\n    return new Matrix(arr.length, arr[0]?.length || 0, arr);\n  }\n\n  concat(m: Matrix) {\n    for (let row = 0; row < m.rows; row += 1) {\n      this.data.push(m.data[row]);\n    }\n    return this;\n  }\n}\n","import { Matrix } from \"./Matrix\";\n\nexport const im2col = (\n  input: Matrix,\n  channels: number,\n  height: number,\n  width: number,\n  kernel_h: number,\n  kernel_w: number,\n  pad_h: number,\n  pad_w: number,\n  stride_h: number,\n  stride_w: number\n): Matrix => {\n  const cols = kernel_w * kernel_h * channels;\n  const rows = ((width - kernel_w + 2 * pad_w) / stride_w + 1) * ((height - kernel_h + 2 * pad_h) / stride_h + 1);\n  let currentResultRow = 0;\n  const result = new Matrix(rows, cols).setZeros();\n\n  for (let boundingY = -pad_h; boundingY + kernel_h <= height + pad_h; boundingY += stride_h) {\n    for (let boundingX = -pad_w; boundingX + kernel_w <= width + pad_w; boundingX += stride_w) {\n      let currentResultCol = 0;\n      for (let channel = 0; channel < channels; channel++) {\n        const inputOffset = height * width * channel;\n        for (let y = 0; y < kernel_h; y++) {\n          for (let x = 0; x < kernel_w; x++) {\n            if (boundingY + y >= 0 && boundingX + x >= 0 && boundingX + x < width && boundingY + y < height) {\n              result.data[currentResultRow][currentResultCol] =\n                input.data[(y + boundingY) * width + boundingX + x + inputOffset][0];\n            }\n            currentResultCol++;\n          }\n        }\n      }\n      currentResultRow++;\n    }\n  }\n  return result;\n};\n\nexport const maxpool = (\n  input: Matrix,\n  channels: number,\n  height: number,\n  width: number,\n  kernel_h: number,\n  kernel_w: number,\n  stride_h: number,\n  stride_w: number\n): Matrix => {\n  const resultWidth = (width - kernel_w) / stride_w + 1;\n  const resultHeight = (height - kernel_h) / stride_h + 1;\n  const resultDepth = channels;\n\n  let currentResultCol = 0;\n  const result = new Matrix(resultWidth * resultHeight * resultDepth, 1).setZeros();\n\n  for (let boundingY = 0; boundingY + kernel_h <= height; boundingY += stride_h) {\n    for (let boundingX = 0; boundingX + kernel_w <= width; boundingX += stride_w) {\n      for (let channel = 0; channel < channels; channel++) {\n        let _max = -Infinity;\n        const inputOffset = height * width * channel;\n        const outputOffset = resultWidth * resultHeight * channel;\n        for (let y = 0; y < kernel_h; y++) {\n          for (let x = 0; x < kernel_w; x++) {\n            _max = Math.max(_max, input.data[inputOffset + (y + boundingY) * width + boundingX + x][0]);\n          }\n        }\n        result.data[outputOffset + currentResultCol][0] = _max;\n      }\n      currentResultCol++;\n    }\n  }\n  return result;\n};\n\nexport const round = (num: number, decimalPlaces: number): number => {\n  return Math.round((num + 2.23e-16) * Math.pow(10, decimalPlaces)) / Math.pow(10, decimalPlaces);\n};\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","AbstractComputation","_classCallCheck","name","func","this","kernels","Error","concat","_len","arguments","length","args","Array","_key","apply","dot","m1","m2","ComputationMultiCore","_AbstractComputation","_this","_callSuper","addKernel","_inherits","cols","rows","data","row","col","i","Matrix","transpose","reluBackpropagation","delta","A","add","m","from","subtract","multiply","num","shape","divide","minusOne","log","Math","pow","exp","sqrt","subtractNumberFrom","setMin","min","max","setMax","setOnes","setZeros","setRandom","parameter","random","fraction","abs","mean","sum","numberOfElements","rowwiseSum","push","colwiseSum","t","replicate","newData","colMaxCoeffIndex","maxIndex","rowMaxCoeffIndex","rollToColMatrix","_row","ComputationCPU","currentComputation","setComputation","type","getComputation","undefined","_defineProperty","resize","generateData","arr","test","String","Number","execute","cb","_arr$","im2col","input","channels","height","width","kernel_h","kernel_w","pad_h","pad_w","stride_h","stride_w","currentResultRow","result","boundingY","boundingX","currentResultCol","channel","inputOffset","y","x","maxpool","resultWidth","resultHeight","_max","outputOffset","round","decimalPlaces"],"sourceRoot":""}